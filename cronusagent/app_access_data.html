
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Application Data &#8212; cronus 0.1.45 documentation</title>
    
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1.45',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Basic Authentication" href="agent_ssl_auth.html" />
    <link rel="prev" title="Deploy Application" href="app_deployed_by_agent.html" /> 
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="agent_ssl_auth.html" title="Basic Authentication"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="app_deployed_by_agent.html" title="Deploy Application"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">cronus 0.1.45 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Cronus Agent</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="application-data">
<h1>Application Data<a class="headerlink" href="#application-data" title="Permalink to this headline">Â¶</a></h1>
<p>This guide describes how to access locally persisted application data</p>
<p><strong>Data local to specific manifest</strong></p>
<p>Any data within the manifest package, or generated after activation in the manifest package is local to the specific manifest only. It can be deleted by agent after the manifest is deactivated and garbage collected</p>
<p><strong>Data local to specific service</strong></p>
<p>Agent creates .appdata under service root directory and creates symlink .appdata in each cronus package root during manifest activation. Data persisted in .appdata and its subdirectories is accessible across all manifests of the service. It can be deleted by agent when the service is deleted.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">service_root</span>
    <span class="o">-</span> <span class="o">.</span><span class="n">appdata</span>
    <span class="o">-</span> <span class="n">manifests</span>
        <span class="o">-</span> <span class="n">active</span>
            <span class="o">-</span> <span class="n">package1</span>
                <span class="o">-</span> <span class="o">.</span><span class="n">appdata</span> <span class="p">(</span><span class="n">symlink</span> <span class="n">to</span> <span class="n">service_root</span><span class="o">/.</span><span class="n">appdata</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Environment variables</strong></p>
<p>Any data passed in from deploy API will be available to the application life cycle script as environment variables</p>
<div class="highlight-default"><div class="highlight"><pre><span></span># deploy API call
    curl -k -X POST -d &#39;{&quot;package&quot;: [&quot;http://$_cronus_package_url_&quot;], &quot;env&quot;: &quot;production&quot;&#39; \
    https://host:19000/services/$_service_name_/action/deploy

# in activate script, this will print env=production
    echo &quot;env=$env&quot;
</pre></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="app_deployed_by_agent.html"
                        title="previous chapter">Deploy Application</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="agent_ssl_auth.html"
                        title="next chapter">Basic Authentication</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/cronusagent/app_access_data.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="agent_ssl_auth.html" title="Basic Authentication"
             >next</a> |</li>
        <li class="right" >
          <a href="app_deployed_by_agent.html" title="Deploy Application"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">cronus 0.1.45 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Cronus Agent</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2014, binyu.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.2.
    </div>
  </body>
</html>